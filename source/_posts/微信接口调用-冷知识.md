---
title: 微信接口调用-冷知识
date: 2018-01-18 15:45:10
categories: 技术
tags:
description: 微信调用分享接口，关键字“现金”，令我很尴尬
---

`这是我开发史上碰到过最冷门最冷门的事了`  

公司最近在做微信端的抽奖活动，昨天晚上测试通过就直接上线了，结果今天出现了尴尬的一幕，如下图：  
<div style="text-align:center;">
    <img src="http://oyzg3m24h.bkt.clouddn.com/wx-send.jpg" alt="七牛云升级，图片失效了。后期会补上" width="380px" />
</div>  

然而对方拿到的分享确实下图这样：  

<div style="text-align:center;">
    <img src="http://oyzg3m24h.bkt.clouddn.com/wx-get.png" alt="七牛云升级，图片失效了。后期会补上" width="380px" />
</div>   

是的，我这边能看到缩略图，但是接收的那方看不到缩略图。然后我各种检查代码，发现并没有什么写错的地方，有几行格式写的不规范，修改后传到服务器上发现并没有什么卵用。然后我又拿正常的项目做对比，发现除了几个参数配置不一样，其他的都没毛病啊。冥思苦想，就是想不明白，只能把不一样的地方，一行一行的替换，看看到底是哪里出了问题。按道理说，缩略图不显示，很有可能是图片链接的锅。但改了图片链接后，发现仍然不行，等我一行一行试到`desc`的时候，发现图片出来了。于是我坚定的认为，肯定是标点符号的原因，于是把描述里中文标点换成了英文标点，结果，不行！！又把英文标点换成空格，结果，不行！！字数太多了？答案，不是！！彻底懵逼了。  

但是！聪明的我，灵光一现，是不是描述里有微信的敏感词？我们的描述原本是这样的。`我刚刚在云网全房获得现金大奖，小伙伴们快来瓜分吧！`，我把`现金大奖`换成了`奖励`，分享出去，对方能看到缩略图了。哈哈，成了。果然是关键词的事。到底是`现金`的锅，还是`大奖`的锅呢？好了，过程我就不说了。答案是`现金`。  

在调用微信分享接口，写`desc`的时候，不要提到`现金`两个字，否则会造成接收方看不到缩略图的情况。这么冷的知识，长点心吧少年们！！！